api:
  dashboard: true

serversTransport:
  insecureSkipVerify: true

entryPoints:
  web:
    address: ":80"
    http:
      redirections:
        entrypoint:
          to: websecure
          scheme: https
  websecure:
    address: ":443"
    http:
      tls:
        certResolver: letsencrypt
        domains:
          - main: mchill.duckdns.org
            sans:
              - "*.mchill.duckdns.org"

providers:
  docker:
    exposedbydefault: false
    defaultRule: Host(`{{ trimSuffix "-home" .Name }}.mchill.duckdns.org`)
  file:
    directory: /config
    watch: true

certificatesResolvers:
  letsencrypt:
    acme:
      email: matthewchill7@gmail.com
      dnsChallenge:
        provider: duckdns

accessLog: {}

metrics:
  prometheus: {}

tracing:
  jaeger:
    samplingServerURL: http://jaeger:5778/sampling
    localAgentHostPort: jaeger:6831
